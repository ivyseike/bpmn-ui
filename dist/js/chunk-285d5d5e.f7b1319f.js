(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-285d5d5e"],{1148:function(t,e,n){"use strict";var i=n("a691"),o=n("1d80");t.exports="".repeat||function(t){var e=String(o(this)),n="",r=i(t);if(r<0||r==1/0)throw RangeError("Wrong number of repetitions");for(;r>0;(r>>>=1)&&(e+=e))1&r&&(n+=e);return n}},2741:function(t,e,n){},"408a":function(t,e,n){var i=n("c6b6");t.exports=function(t){if("number"!=typeof t&&"Number"!=i(t))throw TypeError("Incorrect invocation");return+t}},"5f03":function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"rating"}},[n("el-container",[n("el-header",{attrs:{height:"36px"}},[n("el-button-group",[n("el-dropdown",[n("el-button",{attrs:{type:"primary",size:"medium"}},[t._v(" 功能 ")]),n("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[n("el-dropdown-item",[n("a",{on:{click:function(e){return t.changeToFunction(1)}}},[t._v("模型评价")])]),n("el-dropdown-item",[n("a",{on:{click:function(e){return t.changeToFunction(2)}}},[t._v("模型推荐")])])],1)],1),n("el-button",{directives:[{name:"show",rawName:"v-show",value:t.function1,expression:"function1"}],staticClass:"el-icon-top-left",attrs:{type:"primary",size:"medium"},on:{click:t.handleImportButton}},[t._v(" 导入 "),n("fileLoader",{attrs:{id:"fileLoader"},on:{loadFile:t.loadBpmnFromFile}})],1)],1),n("el-button-group",[n("el-dropdown",[n("el-button",{attrs:{type:"primary",size:"medium"}},[t._v(" 下载 "),n("i",{staticClass:"el-icon-bottom-right"})]),n("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[n("el-dropdown-item",[n("a",{on:{click:t.downloadBpmnToFile}},[t._v("下载.bpmn文件")])]),n("el-dropdown-item",[n("a",{on:{click:t.downloadBpmnToSVG}},[t._v("下载.svg文件")])])],1)],1),n("el-button",{attrs:{type:"primary",size:"medium"},on:{click:t.resetBPMN}},[t._v("重置")]),n("el-button",{directives:[{name:"show",rawName:"v-show",value:t.function1,expression:"function1"}],attrs:{type:"primary",size:"medium"},on:{click:t.compare}},[t._v("查询评价分数")]),n("el-button",{directives:[{name:"show",rawName:"v-show",value:t.function2,expression:"function2"}],attrs:{type:"primary",size:"medium"},on:{click:t.findSimilar}},[t._v("匹配流程图")])],1)],1),n("el-main",[n("el-input",{attrs:{id:"textinput",type:"textarea",autosize:"",placeholder:"请输入一段流程描述"},model:{value:t.processText,callback:function(e){t.processText=e},expression:"processText"}}),n("div",{staticClass:"bpmnContainer"},[n("div",{ref:"canvas",attrs:{id:"BpmnCanvas"}}),n("div",{ref:"canvas",attrs:{id:"BpmnProperties"}})]),n("div",{staticClass:"hintText"},[n("el-card",{staticClass:"box-card"},[n("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[n("span",{directives:[{name:"show",rawName:"v-show",value:t.function1,expression:"function1"}]},[t._v("模型评价结果")]),n("span",{directives:[{name:"show",rawName:"v-show",value:t.function2,expression:"function2"}]},[t._v("模型匹配结果")]),n("el-button-group",{directives:[{name:"show",rawName:"v-show",value:t.function2,expression:"function2"}],staticStyle:{float:"right","margin-bottom":"3px"}},[n("el-button",{attrs:{type:"primary",icon:"el-icon-arrow-left",disabled:0==t.diagramCount},on:{click:t.lastOne}},[t._v("上一个")]),n("el-button",{attrs:{type:"primary",disabled:t.diagramCount==this.diagrams.length-1},on:{click:t.nextOne}},[t._v("下一个"),n("i",{staticClass:"el-icon-arrow-right el-icon--right"})])],1)],1),n("div",[n("p",[t._v("当前流程描述为： "+t._s(t.processDes))]),n("p",{directives:[{name:"show",rawName:"v-show",value:!(1!=t.function2||!t.diagrams.length),expression:"function2 == true && diagrams.length ? true : false "}]},[t._v("当前BPMN图名称为："+t._s(t.curDiagram["name"])+" ("+t._s(t.diagramCount+1)+"/90)")]),n("p",[t._v("当前BPMN图与文字匹配分数为："+t._s(t.curDiagram["score"]))])])])],1)],1)],1)],1)},o=[],r=(n("b0c0"),n("b680"),n("7024")),a=n("1cdc6"),s=n.n(a),c=n("04be"),l=n.n(c),m=(n("c106"),n("68f8"),n("297d")),d=n("1bab"),u=n("e556"),p=n("c34e"),h=n("3907"),f=(n("4328"),{name:"ModelRating",data:function(){return{xmlStr:this.$store.state.BpmnXml,isCollapse:!1,bpmnModeler:null,container:null,isShowUploadWindow:!1,processText:"",processDes:"",function1:!0,function2:!1,diagrams:[],curDiagram:{name:"",score:0,xmlStr:""},diagramCount:0}},components:{fileLoader:m["a"]},methods:{changeToFunction:function(t){1==t?(this.function1=!0,this.function2=!1):2==t&&(this.function1=!1,this.function2=!0)},compare:function(){var t=this;this.bpmnModeler.saveXML({format:!0},(function(e,n){t.xmlStr=n})),this.xmlStr!=this.$store.state.BpmnXml&&""!=this.processText?Object(d["a"])({url:"/compare",method:"post",data:{bpmnXML:this.xmlStr,processText:this.processText}}).then((function(e){"nothing"==e.data?t.$alert("文字描述需为中文","错误提示",{confirmButtonText:"确定"}):(t.curDiagram["score"]=(100*e.data).toFixed(2),t.processDes=t.processText)})).catch((function(t){console.log("发送失败")})):this.$alert("需输入文字描述与BPMN图","错误提示",{confirmButtonText:"确定"})},findSimilar:function(){var t=this;""!=this.processText?Object(d["a"])({url:"/findSimilar",method:"post",data:{processText:this.processText}}).then((function(e){"nothing"==e.data?t.$alert("文字描述需为中文","错误提示",{confirmButtonText:"确定"}):(t.diagrams=e.data,t.curDiagram={xmlStr:e.data[0]["bpmnXML"],name:e.data[0]["name"],score:(100*e.data[0]["score"]).toFixed(2)},t.bpmnModeler.importXML(t.curDiagram["xmlStr"]),t.processDes=t.processText)})).catch((function(t){console.log("发送失败")})):this.$alert("需输入文字描述","错误提示",{confirmButtonText:"确定"})},lastOne:function(){this.diagramCount-=1,this.curDiagram={xmlStr:this.diagrams[this.diagramCount]["bpmnXML"],name:this.diagrams[this.diagramCount]["name"],score:(100*this.diagrams[this.diagramCount]["score"]).toFixed(2)},this.bpmnModeler.importXML(this.curDiagram["xmlStr"])},nextOne:function(){this.diagramCount+=1,this.curDiagram={xmlStr:this.diagrams[this.diagramCount]["bpmnXML"],name:this.diagrams[this.diagramCount]["name"],score:(100*this.diagrams[this.diagramCount]["score"]).toFixed(2)},this.bpmnModeler.importXML(this.curDiagram["xmlStr"])},initBpmn:function(){this.bpmnModeler=new r["a"]({container:"#BpmnCanvas",propertiesPanel:{parent:"#BpmnProperties"},additionalModules:[u["a"],s.a,l.a],linting:{bpmnlint:p["a"]}}),this.bpmnModeler.importXML(this.xmlStr)},handleImportButton:function(){var t=document.getElementById("fileLoader");t.click()},loadBpmnFromFile:function(t){this.xmlStr=t,this.bpmnModeler.importXML(this.xmlStr)},resetBPMN:function(){this.xmlStr=h["a"],this.bpmnModeler.importXML(this.xmlStr),this.processText=""},downloadBpmnToFile:function(){var t=this;this.bpmnModeler.saveXML({format:!0},(function(e,n){t.download("1.bpmn",n)}))},downloadBpmnToSVG:function(){var t=this;this.bpmnModeler.saveSVG({format:!0},(function(e,n){t.download("bpmn.svg",n)}))},download:function(t,e){var n=document.createElement("a");n.style.display="none",n.setAttribute("href","data:text/plain;charset=utf-8,"+encodeURIComponent(e)),n.setAttribute("download",t),document.body.appendChild(n),n.click(),document.body.removeChild(n)}},mounted:function(){this.initBpmn()},activated:function(){this.xmlStr=this.$store.state.BpmnXml,this.bpmnModeler.importXML(this.xmlStr)}}),v=f,g=(n("ce3d"),n("2877")),x=Object(g["a"])(v,i,o,!1,null,null,null);e["default"]=x.exports},b0c0:function(t,e,n){var i=n("83ab"),o=n("9bf2").f,r=Function.prototype,a=r.toString,s=/^\s*function ([^ (]*)/,c="name";!i||c in r||o(r,c,{configurable:!0,get:function(){try{return a.call(this).match(s)[1]}catch(t){return""}}})},b680:function(t,e,n){"use strict";var i=n("23e7"),o=n("a691"),r=n("408a"),a=n("1148"),s=n("d039"),c=1..toFixed,l=Math.floor,m=function(t,e,n){return 0===e?n:e%2===1?m(t,e-1,n*t):m(t*t,e/2,n)},d=function(t){var e=0,n=t;while(n>=4096)e+=12,n/=4096;while(n>=2)e+=1,n/=2;return e},u=c&&("0.000"!==8e-5.toFixed(3)||"1"!==.9.toFixed(0)||"1.25"!==1.255.toFixed(2)||"1000000000000000128"!==(0xde0b6b3a7640080).toFixed(0))||!s((function(){c.call({})}));i({target:"Number",proto:!0,forced:u},{toFixed:function(t){var e,n,i,s,c=r(this),u=o(t),p=[0,0,0,0,0,0],h="",f="0",v=function(t,e){var n=-1,i=e;while(++n<6)i+=t*p[n],p[n]=i%1e7,i=l(i/1e7)},g=function(t){var e=6,n=0;while(--e>=0)n+=p[e],p[e]=l(n/t),n=n%t*1e7},x=function(){var t=6,e="";while(--t>=0)if(""!==e||0===t||0!==p[t]){var n=String(p[t]);e=""===e?n:e+a.call("0",7-n.length)+n}return e};if(u<0||u>20)throw RangeError("Incorrect fraction digits");if(c!=c)return"NaN";if(c<=-1e21||c>=1e21)return String(c);if(c<0&&(h="-",c=-c),c>1e-21)if(e=d(c*m(2,69,1))-69,n=e<0?c*m(2,-e,1):c/m(2,e,1),n*=4503599627370496,e=52-e,e>0){v(0,n),i=u;while(i>=7)v(1e7,0),i-=7;v(m(10,i,1),0),i=e-1;while(i>=23)g(1<<23),i-=23;g(1<<i),v(1,1),g(2),f=x()}else v(0,n),v(1<<-e,0),f=x()+a.call("0",u);return u>0?(s=f.length,f=h+(s<=u?"0."+a.call("0",u-s)+f:f.slice(0,s-u)+"."+f.slice(s-u))):f=h+f,f}})},ce3d:function(t,e,n){"use strict";var i=n("2741"),o=n.n(i);o.a}}]);
//# sourceMappingURL=chunk-285d5d5e.f7b1319f.js.map