(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-7f66b3a8"],{"709d":function(t,e,n){"use strict";var o=n("b352"),i=n.n(o);i.a},b352:function(t,e,n){},bb07:function(t,e,n){"use strict";n.r(e);var o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"rating"}},[n("el-container",[n("el-header",{attrs:{height:"36px"}},[n("el-button-group"),n("el-button-group",[n("el-dropdown",[n("el-button",{attrs:{type:"primary",size:"medium"}},[t._v(" 下载 "),n("i",{staticClass:"el-icon-bottom-right"})]),n("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[n("el-dropdown-item",[n("a",{on:{click:t.downloadBpmnToFile}},[t._v("下载.bpmn文件")])]),n("el-dropdown-item",[n("a",{on:{click:t.downloadBpmnToSVG}},[t._v("下载.svg文件")])])],1)],1),n("el-button",{attrs:{type:"primary",size:"medium"},on:{click:t.resetBPMN}},[t._v("重置")]),n("el-button",{attrs:{type:"primary",size:"medium"},on:{click:t.textTransform}},[t._v("转换为BPMN图")])],1)],1),n("el-main",[n("el-input",{attrs:{id:"textinput",type:"textarea",autosize:"",placeholder:"请输入一段流程描述"},model:{value:t.processText,callback:function(e){t.processText=e},expression:"processText"}}),n("div",{staticClass:"bpmnContainer"},[n("div",{ref:"canvas",attrs:{id:"BpmnCanvas"}}),n("div",{ref:"canvas",attrs:{id:"BpmnProperties"}})])],1)],1)],1)},i=[],a=n("7024"),s=n("1cdc6"),r=n.n(s),l=n("04be"),d=n.n(l),c=(n("c106"),n("68f8"),n("297d")),p=n("1bab"),m=n("e556"),u=n("c34e"),h=n("3907"),f=(n("4328"),{name:"ModelRating",data:function(){return{xmlStr:this.$store.state.BpmnXml,isCollapse:!1,bpmnModeler:null,container:null,isShowUploadWindow:!1,processText:"",english:!0,chinese:!1}},components:{fileLoader:c["a"]},methods:{changeLanguage:function(t){1==t?(this.english=!0,this.chinese=!1):2==t&&(this.english=!1,this.chinese=!0)},textTransform:function(){var t=this;""!=this.processText?Object(p["a"])({url:"/transform",method:"post",data:{processText:this.processText}}).then((function(e){"nothing"==e.data?t.$alert("未知错误","错误提示",{confirmButtonText:"确定"}):(console.log(e.data),t.bpmnModeler.importXML(e.data))})).catch((function(t){console.log("发送失败")})):this.$alert("需输入文字描述","错误提示",{confirmButtonText:"确定"})},initBpmn:function(){this.bpmnModeler=new a["a"]({container:"#BpmnCanvas",propertiesPanel:{parent:"#BpmnProperties"},additionalModules:[m["a"],r.a,d.a],linting:{bpmnlint:u["a"]}}),this.bpmnModeler.importXML(this.xmlStr)},handleImportButton:function(){var t=document.getElementById("fileLoader");t.click()},loadBpmnFromFile:function(t){this.xmlStr=t,this.bpmnModeler.importXML(this.xmlStr)},resetBPMN:function(){this.xmlStr=h["a"],this.bpmnModeler.importXML(this.xmlStr),this.processText=""},downloadBpmnToFile:function(){var t=this;this.bpmnModeler.saveXML({format:!0},(function(e,n){t.download("1.bpmn",n)}))},downloadBpmnToSVG:function(){var t=this;this.bpmnModeler.saveSVG({format:!0},(function(e,n){t.download("bpmn.svg",n)}))},download:function(t,e){var n=document.createElement("a");n.style.display="none",n.setAttribute("href","data:text/plain;charset=utf-8,"+encodeURIComponent(e)),n.setAttribute("download",t),document.body.appendChild(n),n.click(),document.body.removeChild(n)}},mounted:function(){this.initBpmn()},activated:function(){this.xmlStr=this.$store.state.BpmnXml,this.bpmnModeler.importXML(this.xmlStr)}}),b=f,v=(n("709d"),n("2877")),x=Object(v["a"])(b,o,i,!1,null,null,null);e["default"]=x.exports}}]);
//# sourceMappingURL=chunk-7f66b3a8.5f59238c.js.map